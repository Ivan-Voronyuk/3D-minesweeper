<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fltk: Common Widgets and Attributes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fltk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">FLTK Programming Manual</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Common Widgets and Attributes</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This chapter describes many of the widgets that are provided with FLTK and covers how to query and set the standard attributes.</p>
<h1><a class="anchor" id="common_buttons"></a>
Buttons</h1>
<p>FLTK provides many types of buttons:</p>
<ul>
<li>Fl_Button - A standard push button.</li>
</ul>
<ul>
<li><a class="el" href="classFl__Check__Button.html" title="A button with a &quot;checkmark&quot; to show its status.">Fl_Check_Button</a> - A button with a check box.</li>
</ul>
<ul>
<li>Fl_Light_Button - A push button with a light.</li>
</ul>
<ul>
<li>Fl_Repeat_Button - A push button that repeats when held.</li>
</ul>
<ul>
<li>Fl_Return_Button - A push button that is activated by the <code>Enter</code> key.</li>
</ul>
<ul>
<li>Fl_Round_Button - A button with a radio circle.</li>
</ul>
<div class="image">
<img src="buttons.png" alt=""/>
<div class="caption">
FLTK Button Widgets</div></div>
 <p>All of these buttons just need the corresponding <code>&lt;FL/Fl_xyz_Button.H&gt;</code> header file. The constructor takes the bounding box of the button and optionally a label string:</p>
<div class="fragment"><div class="line">Fl_Button *button = <span class="keyword">new</span> Fl_Button(x, y, width, height, <span class="stringliteral">&quot;label&quot;</span>);</div>
<div class="line">Fl_Light_Button *lbutton = <span class="keyword">new</span> Fl_Light_Button(x, y, width, height);</div>
<div class="line">Fl_Round_Button *rbutton = <span class="keyword">new</span> Fl_Round_Button(x, y, width, height, <span class="stringliteral">&quot;label&quot;</span>);</div>
</div><!-- fragment --><p>Each button has an associated <code>type()</code> which allows it to behave as a push button, toggle button, or radio button:</p>
<div class="fragment"><div class="line">button-&gt;type(FL_NORMAL_BUTTON);</div>
<div class="line">lbutton-&gt;type(FL_TOGGLE_BUTTON);</div>
<div class="line">rbutton-&gt;type(FL_RADIO_BUTTON);</div>
</div><!-- fragment --><p>For toggle and radio buttons, the <code>value()</code> method returns the current button state (0 = off, 1 = on). The <code>set()</code> and <code>clear()</code> methods can be used on toggle buttons to turn a toggle button on or off, respectively. Radio buttons can be turned on with the <code>setonly()</code> method; this will also turn off other radio buttons in the same group.</p>
<h1><a class="anchor" id="common_text"></a>
Text</h1>
<p>FLTK provides several text widgets for displaying and receiving text:</p>
<ul>
<li>Fl_Input - A one-line text input field.</li>
</ul>
<ul>
<li>Fl_Output - A one-line text output field.</li>
</ul>
<ul>
<li>Fl_Multiline_Input - A multi-line text input field.</li>
</ul>
<ul>
<li>Fl_Multiline_Output - A multi-line text output field.</li>
</ul>
<ul>
<li>Fl_Text_Display - A multi-line text display widget.</li>
</ul>
<ul>
<li>Fl_Text_Editor - A multi-line text editing widget.</li>
</ul>
<ul>
<li>Fl_Help_View - A HTML text display widget.</li>
</ul>
<p>The Fl_Output and Fl_Multiline_Output widgets allow the user to copy text from the output field but not change it.</p>
<p>The <code>value()</code> method is used to get or set the string that is displayed:</p>
<div class="fragment"><div class="line">Fl_Input *input = <span class="keyword">new</span> Fl_Input(x, y, width, height, <span class="stringliteral">&quot;label&quot;</span>);</div>
<div class="line">input-&gt;value(<span class="stringliteral">&quot;Now is the time for all good men...&quot;</span>);</div>
</div><!-- fragment --><p>The string is copied to the widget's own storage when you set the <code>value()</code> of the widget.</p>
<p>The Fl_Text_Display and Fl_Text_Editor widgets use an associated Fl_Text_Buffer class for the value, instead of a simple string.</p>
<h1><a class="anchor" id="common_valuators"></a>
Valuators</h1>
<p>Unlike text widgets, valuators keep track of numbers instead of strings. FLTK provides the following valuators:</p>
<ul>
<li>Fl_Counter - A widget with arrow buttons that shows the current value.</li>
</ul>
<ul>
<li>Fl_Dial - A round knob.</li>
</ul>
<ul>
<li>Fl_Roller - An SGI-like dolly widget.</li>
</ul>
<ul>
<li>Fl_Scrollbar - A standard scrollbar widget.</li>
</ul>
<ul>
<li>Fl_Slider - A scrollbar with a knob.</li>
</ul>
<ul>
<li>Fl_Value_Slider - A slider that shows the current value.</li>
</ul>
<div class="image">
<img src="valuators.png" alt=""/>
<div class="caption">
FLTK valuator widgets</div></div>
 <p>The <code>value()</code> method gets and sets the current value of the widget. The <code>minimum()</code> and <code>maximum()</code> methods set the range of values that are reported by the widget.</p>
<h1><a class="anchor" id="common_groups"></a>
Groups</h1>
<p>The Fl_Group widget class is used as a general purpose "container" widget. Besides grouping radio buttons, the groups are used to encapsulate windows, tabs, and scrolled windows. The following group classes are available with FLTK:</p>
<ul>
<li>Fl_Double_Window - A double-buffered window on the screen.</li>
</ul>
<ul>
<li>Fl_Flex - A flexible container of one row or column of widgets. Fl_Flex widgets may be nested, but see also Fl_Grid.</li>
</ul>
<ul>
<li>Fl_Gl_Window - An OpenGL window on the screen.</li>
</ul>
<ul>
<li>Fl_Grid - A flexible container of one or more rows and columns of widgets arranged in a "grid" with auto-layout features. Fl_Grid widgets can be nested with other Fl_Grid or many Fl_Group type widgets. Nesting with other self-resizing containers like Fl_Pack and <a class="el" href="classFl__Tile.html">Fl_Tile</a> is not recommended but <b>may</b> work.</li>
</ul>
<ul>
<li>Fl_Group - The base container class; can be used to group any widgets together.</li>
</ul>
<ul>
<li>Fl_Pack - A collection of widgets that are packed into the group area.</li>
</ul>
<ul>
<li>Fl_Scroll - A scrolled window area.</li>
</ul>
<ul>
<li>Fl_Tabs - Displays child widgets as tabs.</li>
</ul>
<ul>
<li><a class="el" href="classFl__Tile.html">Fl_Tile</a> - A tiled window area.</li>
</ul>
<ul>
<li>Fl_Window - A window on the screen.</li>
</ul>
<ul>
<li>Fl_Wizard - Displays one group of widgets at a time.</li>
</ul>
<h1><a class="anchor" id="common_sizeposition"></a>
Setting the Size and Position of Widgets</h1>
<p>The size and position of widgets is usually set when you create them. You can access them with the <code>x()</code>, <code>y()</code>, <code>w()</code>, and <code>h()</code> methods.</p>
<p>You can change the size and position by using the <code>position()</code>, <code>resize()</code>, and <code>size()</code> methods:</p>
<div class="fragment"><div class="line">button-&gt;position(x, y);</div>
<div class="line">group-&gt;resize(x, y, width, height);</div>
<div class="line"><a class="code hl_class" href="classwindow.html">window</a>-&gt;size(width, height);</div>
<div class="ttc" id="aclasswindow_html"><div class="ttname"><a href="classwindow.html">window</a></div><div class="ttdef"><b>Definition</b> animated.cxx:108</div></div>
</div><!-- fragment --><p>If you change a widget's size or position after it is displayed you will have to call <code>redraw()</code> on the widget's parent.</p>
<h1><a class="anchor" id="common_colors"></a>
Colors</h1>
<p>FLTK stores the colors of widgets as a 32-bit unsigned number that is either an index into a color palette of 256 colors (0 &lt;= color &lt;= 255) or a 24-bit RGB color (color &gt; 255). The color palette is <em>not</em> the X or Windows colormap, but instead is an internal table with fixed contents.</p>
<p>See the <a class="el" href="drawing.html#drawing_colors">Colors</a> section of <a class="el" href="drawing.html">Drawing Things in FLTK</a> for implementation details.</p>
<p>There are symbols for naming some of the more common colors:</p>
<ul>
<li><code>FL_BLACK</code> </li>
<li><code>FL_RED</code> </li>
<li><code>FL_GREEN</code> </li>
<li><code>FL_YELLOW</code> </li>
<li><code>FL_BLUE</code> </li>
<li><code>FL_MAGENTA</code> </li>
<li><code>FL_CYAN</code> </li>
<li><code>FL_WHITE</code> </li>
</ul>
<p>Other symbols are used as the default colors for all FLTK widgets.</p>
<ul>
<li><code>FL_FOREGROUND_COLOR</code> </li>
<li><code>FL_BACKGROUND_COLOR</code> </li>
<li><code>FL_INACTIVE_COLOR</code> </li>
<li><code>FL_SELECTION_COLOR</code> </li>
</ul>
<p>The full list of named color values can be found in <a class="el" href="enumerations.html#enumerations_colors">FLTK Enumerations</a>.</p>
<p>A color value can be created from its RGB components by using the <code>fl_rgb_color</code>() function, and decomposed again with <code>Fl::get_color()</code>:</p>
<div class="fragment"><div class="line">Fl_Color c = fl_rgb_color(85, 170, 255);    <span class="comment">// RGB to Fl_Color</span></div>
<div class="line">Fl::get_color(c, r, g, b);                  <span class="comment">// Fl_Color to RGB</span></div>
</div><!-- fragment --><p>The widget color is set using the <code>color()</code> method:</p>
<div class="fragment"><div class="line">button-&gt;color(FL_RED);                      <span class="comment">// set color using named value</span></div>
</div><!-- fragment --><p>Similarly, the label color is set using the <code>labelcolor()</code> method:</p>
<div class="fragment"><div class="line">button-&gt;labelcolor(FL_WHITE);</div>
</div><!-- fragment --><p>The Fl_Color encoding maps to a 32-bit unsigned integer representing RGBI, so it is also possible to specify a color using a hex constant as a color map index:</p>
<div class="fragment"><div class="line">button-&gt;color(0x000000ff);                  <span class="comment">// colormap index #255 (FL_WHITE)</span></div>
</div><!-- fragment --><p>or specify a color using a hex constant for the RGB components:</p>
<div class="fragment"><div class="line">button-&gt;color(0xff000000);                  <span class="comment">// RGB: red</span></div>
<div class="line">button-&gt;color(0x00ff0000);                  <span class="comment">// RGB: green</span></div>
<div class="line">button-&gt;color(0x0000ff00);                  <span class="comment">// RGB: blue</span></div>
<div class="line">button-&gt;color(0xffffff00);                  <span class="comment">// RGB: white</span></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If TrueColor is not available, any RGB colors will be set to the nearest entry in the colormap.</dd></dl>
<h1><a class="anchor" id="common_boxtypes"></a>
Box Types</h1>
<p>The type Fl_Boxtype stored and returned in Fl_Widget::box() is an enumeration defined in Enumerations.H.</p>
<p>These are the standard box types included with FLTK:</p>
<div class="image">
<img src="boxtypes.png" alt=""/>
<div class="caption">
FLTK Standard Box Types</div></div>
 <p><code>FL_NO_BOX</code> means nothing is drawn at all, so whatever is already on the screen remains. The <code>FL_..._FRAME</code> types only draw their edges, leaving the interior unchanged. The blue color in the image above is the area that is not drawn by the frame types.</p>
<h2><a class="anchor" id="common_custom_boxtypes"></a>
Making Your Own Boxtypes</h2>
<p>You can define your own boxtypes by making a small function that draws the box and adding it to the table of boxtypes.</p>
<dl class="section user"><dt>The Drawing Function</dt><dd></dd></dl>
<p>The drawing function is passed the bounding box and background color for the widget:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> xyz_draw(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, Fl_Color c) {</div>
<div class="line">...</div>
<div class="line">}</div>
</div><!-- fragment --><p>A simple drawing function might fill a rectangle with the given color and then draw a black outline:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> xyz_draw(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, Fl_Color c) {</div>
<div class="line">  fl_color(c);</div>
<div class="line">  fl_rectf(x, y, w, h);</div>
<div class="line">  fl_color(FL_BLACK);</div>
<div class="line">  fl_rect(x, y, w, h);</div>
<div class="line">}</div>
</div><!-- fragment --><p><a class="anchor" id="common_fl_down"></a>Fl_Boxtype fl_down(Fl_Boxtype b)</p>
<dl class="section user"><dt></dt><dd>fl_down() returns the "pressed" or "down" version of a box. If no "down" version of a given box exists, the behavior of this function is undefined and some random box or frame is returned. See <a class="el" href="drawing.html#drawing_fl_frame">Drawing Functions</a> for more details.</dd></dl>
<p><a class="anchor" id="common_fl_frame"></a>Fl_Boxtype fl_frame(Fl_Boxtype b)</p>
<dl class="section user"><dt></dt><dd><a class="el" href="fl__boxtype_8cxx.html#aeb7d9862b7d98015acad84386f6bdd45">fl_frame()</a> returns the unfilled, frame-only version of a box. If no frame version of a given box exists, the behavior of this function is undefined and some random box or frame is returned. See <a class="el" href="drawing.html#drawing_fl_frame">Drawing Functions</a> for more details.</dd></dl>
<p>Fl_Boxtype fl_box(Fl_Boxtype b)</p>
<dl class="section user"><dt></dt><dd>fl_box() returns the filled version of a frame. If no filled version of a given frame exists, the behavior of this function is undefined and some random box or frame is returned. See <a class="el" href="drawing.html#drawing_fl_frame">Drawing Functions</a> for more details.</dd></dl>
<dl class="section user"><dt>Adding Your Box Type</dt><dd></dd></dl>
<p>The Fl::set_boxtype() method adds or replaces the specified box type:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define XYZ_BOX FL_FREE_BOXTYPE</span></div>
<div class="line"> </div>
<div class="line">Fl::set_boxtype(XYZ_BOX, xyz_draw, 1, 1, 2, 2);</div>
</div><!-- fragment --><p> The last 4 arguments to Fl::set_boxtype() are the offsets for the <code>x</code>, <code>y</code>, <code>width</code>, and <code>height</code> values that should be subtracted when drawing the label inside the box.</p>
<p>A complete box design contains four box types in this order: a filled, neutral box (<code>UP_BOX</code>), a filled, depressed box (<code>DOWN_BOX</code>), and the same as outlines only (<code>UP_FRAME</code> and <code>DOWN_FRAME</code>). The function <a class="el" href="common.html#common_fl_down">fl_down(Fl_Boxtype)</a> expects the neutral design on a boxtype with a numerical value evenly dividable by two. <a class="el" href="common.html#common_fl_frame">fl_frame(Fl_Boxtype)</a> expects the <code>UP_BOX</code> design at a value dividable by four.</p>
<h1><a class="anchor" id="common_labels"></a>
Labels and Label Types</h1>
<p>The <code>label()</code>, <code>align()</code>, <code>labelfont()</code>, <code>labelsize()</code>, <code>labeltype()</code>, <code>image()</code>, and <code>deimage()</code> methods control the labeling of widgets.</p>
<dl class="section user"><dt>label()</dt><dd></dd></dl>
<p>The <code>label()</code> method sets the string that is displayed for the label. Symbols can be included with the label string by escaping them using the "@" symbol - "@@" displays a single at sign. These are the available symbols:</p>
<div class="image">
<img src="symbols.png" alt=""/>
<div class="caption">
FLTK label symbols</div></div>
 <p>The @ sign may also be followed by the following optional "formatting" characters, in this order:</p>
<ul>
<li>'#' forces square scaling, rather than distortion to the widget's shape.</li>
</ul>
<ul>
<li>+[1-9] or -[1-9] tweaks the scaling a little bigger or smaller.</li>
</ul>
<ul>
<li>'$' flips the symbol horizontally, '%' flips it vertically.</li>
</ul>
<ul>
<li>[0-9] - rotates by a multiple of 45 degrees. '5' and '6' do no rotation while the others point in the direction of that key on a numeric keypad. '0', followed by four more digits rotates the symbol by that amount in degrees.</li>
</ul>
<p>Thus, to show a very large arrow pointing downward you would use the label string "@+92-&gt;".</p>
<p>Symbols and text can be combined in a label, however the symbol must be at the beginning and/or at the end of the text. If the text spans multiple lines, the symbol or symbols will scale up to match the height of all the lines.</p>
<div class="image">
<img src="symbol-examples.png" alt=""/>
<div class="caption">
FLTK symbols and text</div></div>
 <dl class="section user"><dt>align()</dt><dd></dd></dl>
<p>The <code>align()</code> method positions the label. The following constants are defined and may be OR'd together as needed:</p>
<ul>
<li><code>FL_ALIGN_CENTER</code> - center the label in the widget.</li>
<li><code>FL_ALIGN_TOP</code> - align the label at the top of the widget.</li>
<li><code>FL_ALIGN_BOTTOM</code> - align the label at the bottom of the widget.</li>
<li><code>FL_ALIGN_LEFT</code> - align the label to the left of the widget.</li>
<li><code>FL_ALIGN_RIGHT</code> - align the label to the right of the widget.</li>
<li><code>FL_ALIGN_LEFT_TOP</code> - The label appears to the left of the widget, aligned at the top. Outside labels only.</li>
<li><code>FL_ALIGN_RIGHT_TOP</code> - The label appears to the right of the widget, aligned at the top. Outside labels only.</li>
<li><code>FL_ALIGN_LEFT_BOTTOM</code> - The label appears to the left of the widget, aligned at the bottom. Outside labels only.</li>
<li><code>FL_ALIGN_RIGHT_BOTTOM</code> - The label appears to the right of the widget, aligned at the bottom. Outside labels only.</li>
<li><code>FL_ALIGN_INSIDE</code> - align the label inside the widget.</li>
<li><code>FL_ALIGN_CLIP</code> - clip the label to the widget's bounding box.</li>
<li><code>FL_ALIGN_WRAP</code> - wrap the label text as needed.</li>
<li><code>FL_ALIGN_TEXT_OVER_IMAGE</code> - show the label text over the image.</li>
<li><code>FL_ALIGN_IMAGE_OVER_TEXT</code> - show the label image over the text (default).</li>
<li><code>FL_ALIGN_IMAGE_NEXT_TO_TEXT</code> - The image will appear to the left of the text.</li>
<li><code>FL_ALIGN_TEXT_NEXT_TO_IMAGE</code> - The image will appear to the right of the text.</li>
<li><code>FL_ALIGN_IMAGE_BACKDROP</code> - The image will be used as a background for the widget.</li>
</ul>
<p><a class="anchor" id="common_labeltype"></a></p><dl class="section user"><dt>labeltype()</dt><dd></dd></dl>
<p>The <code>labeltype()</code> method sets the type of the label. The following standard label types are included:</p>
<ul>
<li><code>FL_NORMAL_LABEL</code> - draws the text.</li>
<li><code>FL_NO_LABEL</code> - does nothing.</li>
<li><code>FL_SHADOW_LABEL</code> - draws a drop shadow under the text.</li>
<li><code>FL_ENGRAVED_LABEL</code> - draws edges as though the text is engraved.</li>
<li><code>FL_EMBOSSED_LABEL</code> - draws edges as though the text is raised.</li>
<li><code>FL_ICON_LABEL</code> - draws the icon (Fl_Image) associated with the text.</li>
<li><code>FL_IMAGE_LABEL</code> - draws the image (Fl_Image) associated with the text.</li>
<li><code>FL_MULTI_LABEL</code> - draws multiple parts side by side, see Fl_Multi_Label.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Some of these labeltypes are no longer necessary for normal widgets. Widgets allow for an image and a text side by side, depending on the widget's align() flag. FL_MULTI_LABEL was designed to be used with Fl_Menu_Item's to support icons or small images, typically left of the menu text.<br  />
 As of this writing (FLTK 1.4.0) Fl_Menu_Items support only one label part (text <b>or</b> image), but using Fl_Multi_Label as the label can extend this to more than one part.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>class Fl_Multi_Label, Fl_Widget::align()</dd></dl>
<dl class="section user"><dt>image() and deimage()</dt><dd></dd></dl>
<p>The <code>image()</code> and <code>deimage()</code> methods set an image that will be displayed with the widget. The <code>deimage()</code> method sets the image that is shown when the widget is inactive, while the <code>image()</code> method sets the image that is shown when the widget is active.</p>
<p>To make an image you use a subclass of <a class="el" href="drawing.html#drawing_Fl_Image">Fl_Image</a>.</p>
<dl class="section user"><dt>Making Your Own Label Types</dt><dd></dd></dl>
<p>Label types are actually indexes into a table of functions that draw them. The primary purpose of this is to use this to draw the labels in ways inaccessible through the fl_font() mechanism (e.g. <code>FL_ENGRAVED_LABEL</code>) or with program-generated letters or symbology.</p>
<dl class="section user"><dt>Label Type Functions</dt><dd></dd></dl>
<p>To setup your own label type you will need to write two functions: one to draw and one to measure the label. The draw function is called with a pointer to a Fl_Label structure containing the label information, the bounding box for the label, and the label alignment:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> xyz_draw(<span class="keyword">const</span> Fl_Label *label, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, Fl_Align align) {</div>
<div class="line">...</div>
<div class="line">}</div>
</div><!-- fragment --><p>The label should be drawn <em>inside</em> this bounding box, even if <code>FL_ALIGN_INSIDE</code> is not enabled. The function is not called if the label value is <code>NULL</code>.</p>
<p>The measure function is called with a pointer to a Fl_Label structure and references to the width and height:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> xyz_measure(<span class="keyword">const</span> Fl_Label *label, <span class="keywordtype">int</span> &amp;w, <span class="keywordtype">int</span> &amp;h) {</div>
<div class="line">...</div>
<div class="line">}</div>
</div><!-- fragment --><p>The function should measure the size of the label and set <code>w</code> and <code>h</code> to the size it will occupy.</p>
<dl class="section user"><dt>Adding Your Label Type</dt><dd></dd></dl>
<p>The Fl::set_labeltype() method creates a label type using your draw and measure functions:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define XYZ_LABEL FL_FREE_LABELTYPE</span></div>
<div class="line"> </div>
<div class="line">Fl::set_labeltype(XYZ_LABEL, xyz_draw, xyz_measure);</div>
</div><!-- fragment --><p>The label type number <code>n</code> can be any integer value starting at the constant <code>FL_FREE_LABELTYPE</code>. Once you have added the label type you can use the <code>labeltype()</code> method to select your label type.</p>
<p>The Fl::set_labeltype() method can also be used to overload an existing label type such as <code>FL_NORMAL_LABEL</code>.</p>
<dl class="section user"><dt>Making your own symbols</dt><dd></dd></dl>
<p>It is also possible to define your own drawings and add them to the symbol list, so they can be rendered as part of any label.</p>
<p>To create a new symbol, you implement a drawing function <code>void drawit(Fl_Color c)</code> which typically uses the functions described in <a class="el" href="drawing.html#drawing_complex">Drawing Complex Shapes</a> to generate a vector shape inside a two-by-two units sized box around the origin. This function is then linked into the symbols table using fl_add_symbol():</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> fl_add_symbol(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">void</span> (*drawit)(Fl_Color), <span class="keywordtype">int</span> scalable)</div>
</div><!-- fragment --><p><code>name</code> is the name of the symbol without the "@"; <code>scalable</code> must be set to 1 if the symbol is generated using scalable vector drawing functions.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> fl_draw_symbol(<span class="keyword">const</span> <span class="keywordtype">char</span> *name,<span class="keywordtype">int</span> x,<span class="keywordtype">int</span> y,<span class="keywordtype">int</span> w,<span class="keywordtype">int</span> h,Fl_Color col)</div>
</div><!-- fragment --><p>This function draws a named symbol fitting the given rectangle.</p>
<h1><a class="anchor" id="common_callbacks"></a>
Callbacks</h1>
<p>Callbacks are functions that are called when the value of a widget changes. A callback function is sent a Fl_Widget pointer of the widget that changed and a pointer to data that you provide:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> xyz_callback(Fl_Widget *w, <span class="keywordtype">void</span> *data) {</div>
<div class="line">...</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>callback()</code> method sets the callback function for a widget. You can optionally pass a pointer to some data needed for the callback:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> xyz_data;</div>
<div class="line"> </div>
<div class="line">button-&gt;callback(xyz_callback, &amp;xyz_data);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>You cannot delete a widget inside a callback, as the widget may still be accessed by FLTK after your callback is completed. Instead, use the Fl::delete_widget() method to mark your widget for deletion when it is safe to do so.</dd></dl>
<p>Many programmers new to FLTK or C++ try to use a non-static class method instead of a static class method or function for their callback. Since callbacks are done outside a C++ class, the <code>this</code> pointer is not initialized for class methods.</p>
<p>To work around this problem, define a static method in your class that accepts a pointer to the class, and then have the static method call the class method(s) as needed. The data pointer you provide to the <code>callback()</code> method of the widget can be a pointer to the instance of your class.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Foo {</div>
<div class="line">  <span class="keywordtype">void</span> my_callback(Fl_Widget *w);</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">void</span> my_static_callback(Fl_Widget *w, <span class="keywordtype">void</span> *f) { ((Foo *)f)-&gt;my_callback(w); }</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="line">...</div>
<div class="line">w-&gt;callback(my_static_callback, (<span class="keywordtype">void</span> *)<span class="keyword">this</span>);</div>
</div><!-- fragment --><p>In an effort to make callbacks easier, more flexible, and type safe, FLTK provides three groups of macros that generate the code needed to call class methods directly with up to five custom parameters.</p>
<ul>
<li><code>FL_FUNCTION_CALLBACK_#(WIDGET, FUNCTION, ...)</code> creates code for callbacks to functions and static class methods with up to five arguments. The <code>#</code> must be replaced by the number of callback arguments.</li>
<li><code>FL_METHOD_CALLBACK_#(WIDGET, CLASS, SELF, METH, ...)</code> creates code for callbacks to arbitrary public class methods</li>
<li><code>FL_INLINE_CALLBACK_#(WIDGET, ..., FUNCTION_BODY)</code> creates code for callback functions that are very close to (almost in the same line) the widget creation code, similar to lambda function in C++11. The last argument of this macro is the callback code.</li>
</ul>
<p>The syntax is a bit unconventional, but the resulting code is flexible and needs no additional maintenance. It is also C++98 compatible. For example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;FL/fl_callback_macros.H&gt;</span></div>
<div class="line">...</div>
<div class="line">Fl_String *str = <span class="keyword">new</span> Fl_String(<span class="stringliteral">&quot;FLTK&quot;</span>);</div>
<div class="line">Fl_Button *btn = <span class="keyword">new</span> Fl_Button(10, 10, 100, 100);</div>
<div class="line">FL_METHOD_CALLBACK_2(btn,  Fl_String, str, insert,  <span class="keywordtype">int</span>, 2,  <span class="keyword">const</span> <span class="keywordtype">char</span>*, <span class="stringliteral">&quot;...&quot;</span>);</div>
<div class="line">...</div>
<div class="line">Fl_Button *inline_cb_btn_2 = <span class="keyword">new</span> Fl_Button(390, 60, 180, 25, <span class="stringliteral">&quot;2 args&quot;</span>);</div>
<div class="line">FL_INLINE_CALLBACK_2( inline_cb_btn_2,</div>
<div class="line">                      <span class="keyword">const</span> <span class="keywordtype">char</span> *, text, <span class="stringliteral">&quot;FLTK&quot;</span>,   <span class="keywordtype">int</span>, number, 2,</div>
<div class="line">                      {</div>
<div class="line">                        <a class="code hl_function" href="group__group__comdlg.html#ga570c50cf7641b7d85f949b6d61f51c43">fl_message</a>(<span class="stringliteral">&quot;We received the message %s with %d!&quot;</span>, text, number);</div>
<div class="line">                      }</div>
<div class="line">                    );</div>
<div class="ttc" id="agroup__group__comdlg_html_ga570c50cf7641b7d85f949b6d61f51c43"><div class="ttname"><a href="group__group__comdlg.html#ga570c50cf7641b7d85f949b6d61f51c43">fl_message</a></div><div class="ttdeci">void fl_message(const char *fmt,...)</div><div class="ttdef"><b>Definition</b> fl_ask.cxx:106</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd>Fl_Widget::callback(Fl_Callback*, void*), FL_FUNCTION_CALLBACK_3, FL_METHOD_CALLBACK_1, FL_INLINE_CALLBACK_2</dd></dl>
<h1><a class="anchor" id="common_when"></a>
When and Reason</h1>
<p>Normally callbacks are performed only when the value of the widget changes. You can change this using the Fl_Widget::when() method:</p>
<div class="fragment"><div class="line">button-&gt;when(FL_WHEN_NEVER);</div>
<div class="line">button-&gt;when(FL_WHEN_CHANGED);</div>
<div class="line">button-&gt;when(FL_WHEN_RELEASE);</div>
<div class="line">button-&gt;when(FL_WHEN_RELEASE_ALWAYS);</div>
<div class="line">button-&gt;when(FL_WHEN_ENTER_KEY);</div>
<div class="line">button-&gt;when(FL_WHEN_ENTER_KEY_ALWAYS);</div>
<div class="line">button-&gt;when(FL_WHEN_CHANGED | FL_WHEN_NOT_CHANGED);</div>
</div><!-- fragment --><p>Within the callback, you can query why the callback was called using Fl::callback_reason(). For example, setting</p>
<div class="fragment"><div class="line">myInput-&gt;when(FL_WHEN_RELEASE|FL_WHEN_CHANGED) </div>
</div><!-- fragment --><p>for a text input field may return FL_REASON_LOST_FOCUS or FL_REASON_CHANGED as a callback reason.</p>
<h1><a class="anchor" id="common_shortcuts"></a>
Shortcuts</h1>
<p>Shortcuts are key sequences that activate widgets such as buttons or menu items. The <code>shortcut()</code> method sets the shortcut for a widget:</p>
<div class="fragment"><div class="line">button-&gt;shortcut(FL_Enter);</div>
<div class="line">button-&gt;shortcut(FL_SHIFT + <span class="charliteral">&#39;b&#39;</span>);</div>
<div class="line">button-&gt;shortcut(FL_CTRL + <span class="charliteral">&#39;b&#39;</span>);</div>
<div class="line">button-&gt;shortcut(FL_ALT + <span class="charliteral">&#39;b&#39;</span>);</div>
<div class="line">button-&gt;shortcut(FL_CTRL + FL_ALT + <span class="charliteral">&#39;b&#39;</span>);</div>
<div class="line">button-&gt;shortcut(0); <span class="comment">// no shortcut</span></div>
</div><!-- fragment --><p>The shortcut value is the key event value - the ASCII value or one of the special keys described in <a class="el" href="enumerations.html#enumerations_event_key">Fl::event_key() Values</a> combined with any modifiers like <code>Shift</code> , <code>Alt</code> , and <code>Control</code>.</p>
<p> 
<hr>
<table summary="navigation bar" width="100%" border="0">
<tr>
  <td width="45%" align="LEFT">
    <a class="el" href="basics.html">
    [Prev]
    FLTK Basics
    </a>
  </td>
  <td width="10%" align="CENTER">
    <a class="el" href="index.html">[Index]</a>
  </td>
  <td width="45%" align="RIGHT">
    <a class="el" href="coordinates.html">
    Coordinates and Layout Widgets
    [Next]
    </a>
  </td>
</tr>
</table>
 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
