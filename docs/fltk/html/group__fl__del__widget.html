<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fltk: Safe widget deletion support functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fltk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Safe widget deletion support functions</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga609413ac47ba433d1e7da8678a27164f" id="r_ga609413ac47ba433d1e7da8678a27164f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fl__del__widget.html#ga609413ac47ba433d1e7da8678a27164f">Fl::delete_widget</a> (<a class="el" href="classFl__Widget.html">Fl_Widget</a> *<a class="el" href="group__fl__screen.html#ga7aba4252407f539aa6d821551aaba5ff">w</a>)</td></tr>
<tr class="separator:ga609413ac47ba433d1e7da8678a27164f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga838010444986ae57301d6e8289d2dfbb" id="r_ga838010444986ae57301d6e8289d2dfbb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fl__del__widget.html#ga838010444986ae57301d6e8289d2dfbb">Fl::do_widget_deletion</a> ()</td></tr>
<tr class="separator:ga838010444986ae57301d6e8289d2dfbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16ecd6d20b793fd0f3081eaab369caa9" id="r_ga16ecd6d20b793fd0f3081eaab369caa9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fl__del__widget.html#ga16ecd6d20b793fd0f3081eaab369caa9">Fl::watch_widget_pointer</a> (<a class="el" href="classFl__Widget.html">Fl_Widget</a> *&amp;<a class="el" href="group__fl__screen.html#ga7aba4252407f539aa6d821551aaba5ff">w</a>)</td></tr>
<tr class="separator:ga16ecd6d20b793fd0f3081eaab369caa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1426329d09de561319d4555018d9d1a2" id="r_ga1426329d09de561319d4555018d9d1a2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fl__del__widget.html#ga1426329d09de561319d4555018d9d1a2">Fl::release_widget_pointer</a> (<a class="el" href="classFl__Widget.html">Fl_Widget</a> *&amp;<a class="el" href="group__fl__screen.html#ga7aba4252407f539aa6d821551aaba5ff">w</a>)</td></tr>
<tr class="separator:ga1426329d09de561319d4555018d9d1a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3cbd31083b47836cbe00ffb7006a4d4" id="r_gad3cbd31083b47836cbe00ffb7006a4d4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fl__del__widget.html#gad3cbd31083b47836cbe00ffb7006a4d4">Fl::clear_widget_pointer</a> (<a class="el" href="classFl__Widget.html">Fl_Widget</a> const *<a class="el" href="group__fl__screen.html#ga7aba4252407f539aa6d821551aaba5ff">w</a>)</td></tr>
<tr class="separator:gad3cbd31083b47836cbe00ffb7006a4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions, declared in &lt;<a class="el" href="Fl_8H.html" title="Fl static class.">FL/Fl.H</a>&gt;, support deletion of widgets inside callbacks.</p>
<p><a class="el" href="group__fl__del__widget.html#ga609413ac47ba433d1e7da8678a27164f">Fl::delete_widget()</a> should be called when deleting widgets or complete widget trees (<a class="el" href="classFl__Group.html">Fl_Group</a>, <a class="el" href="classFl__Window.html">Fl_Window</a>, ...) inside callbacks.</p>
<p>The other functions are intended for internal use. The preferred way to use them is by using the helper class <a class="el" href="classFl__Widget__Tracker.html">Fl_Widget_Tracker</a>.</p>
<p>The following is to show how it works ...</p>
<p>There are three groups of related methods:</p>
<ol type="1">
<li>scheduled widget deletion<ul>
<li><a class="el" href="group__fl__del__widget.html#ga609413ac47ba433d1e7da8678a27164f">Fl::delete_widget()</a> schedules widgets for deletion</li>
<li><a class="el" href="group__fl__del__widget.html#ga838010444986ae57301d6e8289d2dfbb">Fl::do_widget_deletion()</a> deletes all scheduled widgets</li>
</ul>
</li>
<li>widget watch list ("smart pointers")<ul>
<li><a class="el" href="group__fl__del__widget.html#ga16ecd6d20b793fd0f3081eaab369caa9">Fl::watch_widget_pointer()</a> adds a widget pointer to the watch list</li>
<li><a class="el" href="group__fl__del__widget.html#ga1426329d09de561319d4555018d9d1a2">Fl::release_widget_pointer()</a> removes a widget pointer from the watch list</li>
<li><a class="el" href="group__fl__del__widget.html#gad3cbd31083b47836cbe00ffb7006a4d4">Fl::clear_widget_pointer()</a> clears a widget pointer <em>in</em> the watch list</li>
</ul>
</li>
<li>the class <a class="el" href="classFl__Widget__Tracker.html">Fl_Widget_Tracker</a>:<ul>
<li>the constructor calls <a class="el" href="group__fl__del__widget.html#ga16ecd6d20b793fd0f3081eaab369caa9">Fl::watch_widget_pointer()</a></li>
<li>the destructor calls <a class="el" href="group__fl__del__widget.html#ga1426329d09de561319d4555018d9d1a2">Fl::release_widget_pointer()</a></li>
<li>the access methods can be used to test, if a widget has been deleted <dl class="section see"><dt>See also</dt><dd><a class="el" href="classFl__Widget__Tracker.html">Fl_Widget_Tracker</a>. </dd></dl>
</li>
</ul>
</li>
</ol>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad3cbd31083b47836cbe00ffb7006a4d4" name="gad3cbd31083b47836cbe00ffb7006a4d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3cbd31083b47836cbe00ffb7006a4d4">&#9670;&#160;</a></span>clear_widget_pointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fl::clear_widget_pointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFl__Widget.html">Fl_Widget</a> const *&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clears a widget pointer <em>in</em> the watch list.</p>
<p>This is called when a widget is destroyed (by its destructor). You should never call this directly.</p>
<dl class="section note"><dt>Note</dt><dd>Internal use only !</dd></dl>
<p>This method searches the widget watch list for pointers to the widget and clears each pointer that points to it. Widget pointers can be added to the widget watch list by calling <a class="el" href="group__fl__del__widget.html#ga16ecd6d20b793fd0f3081eaab369caa9">Fl::watch_widget_pointer()</a> or by using the helper class <a class="el" href="classFl__Widget__Tracker.html">Fl_Widget_Tracker</a> (recommended).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__fl__del__widget.html#ga16ecd6d20b793fd0f3081eaab369caa9">Fl::watch_widget_pointer()</a> </dd>
<dd>
class <a class="el" href="classFl__Widget__Tracker.html">Fl_Widget_Tracker</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__fl__del__widget_gad3cbd31083b47836cbe00ffb7006a4d4_cgraph.png" border="0" usemap="#agroup__fl__del__widget_gad3cbd31083b47836cbe00ffb7006a4d4_cgraph" alt=""/></div>
<map name="agroup__fl__del__widget_gad3cbd31083b47836cbe00ffb7006a4d4_cgraph" id="agroup__fl__del__widget_gad3cbd31083b47836cbe00ffb7006a4d4_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,184,31"/>
<area shape="rect" href="group__fl__screen.html#ga7aba4252407f539aa6d821551aaba5ff" title=" " alt="" coords="232,5,285,31"/>
<area shape="poly" title=" " alt="" coords="184,15,219,15,219,21,184,21"/>
<area shape="rect" href="classFl.html#a5f50cdc3a9b33837434f01ee4742dc37" title=" " alt="" coords="333,5,464,31"/>
<area shape="poly" title=" " alt="" coords="286,15,319,15,319,21,286,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__fl__del__widget_gad3cbd31083b47836cbe00ffb7006a4d4_icgraph.png" border="0" usemap="#agroup__fl__del__widget_gad3cbd31083b47836cbe00ffb7006a4d4_icgraph" alt=""/></div>
<map name="agroup__fl__del__widget_gad3cbd31083b47836cbe00ffb7006a4d4_icgraph" id="agroup__fl__del__widget_gad3cbd31083b47836cbe00ffb7006a4d4_icgraph">
<area shape="rect" title=" " alt="" coords="224,5,403,31"/>
<area shape="rect" href="classFl__Widget.html#aca0164a60a96b07007cc1f78bd6d2140" title=" " alt="" coords="5,5,176,31"/>
<area shape="poly" title=" " alt="" coords="210,21,176,21,176,15,210,15"/>
</map>
</div>

</div>
</div>
<a id="ga609413ac47ba433d1e7da8678a27164f" name="ga609413ac47ba433d1e7da8678a27164f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga609413ac47ba433d1e7da8678a27164f">&#9670;&#160;</a></span>delete_widget()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fl::delete_widget </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFl__Widget.html">Fl_Widget</a> *&#160;</td>
          <td class="paramname"><em>wi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules a widget for deletion at the next call to the event loop. Use this method to delete a widget inside a callback function.</p>
<p>To avoid early deletion of widgets, this function should be called toward the end of a callback and only after any call to the event loop (<a class="el" href="classFl.html#a108a84216f0b3fa1cb0c46ab7449a312">Fl::wait()</a>, <a class="el" href="classFl.html#a08d29d807ea3874b8bb16f7457f64bdc">Fl::flush()</a>, <a class="el" href="classFl.html#a1dbb83f1d52001c152ccf8415e3ee6f0">Fl::check()</a>, fl_ask(), etc.).</p>
<p>When deleting groups or windows, you must only delete the group or window widget and not the individual child widgets.</p>
<dl class="section since"><dt>Since</dt><dd>FLTK 1.3.4 the widget will be hidden immediately, but the actual destruction will be delayed until the event loop is finished. Up to FLTK 1.3.3 windows wouldn't be hidden before the event loop was done, hence you had to hide() a window in your window close callback if you called <a class="el" href="group__fl__del__widget.html#ga609413ac47ba433d1e7da8678a27164f">Fl::delete_widget()</a> to destroy (and hide) the window.</dd>
<dd>
FLTK 1.3.0 it is not necessary to remove widgets from their parent groups or windows before calling this, because it will be done in the widget's destructor, but it is not a failure to do this nevertheless.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>In FLTK 1.1 you <b>must</b> remove widgets from their parent group (or window) before deleting them.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classFl__Widget.html#aca0164a60a96b07007cc1f78bd6d2140">Fl_Widget::~Fl_Widget()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__fl__del__widget_ga609413ac47ba433d1e7da8678a27164f_cgraph.png" border="0" usemap="#agroup__fl__del__widget_ga609413ac47ba433d1e7da8678a27164f_cgraph" alt=""/></div>
<map name="agroup__fl__del__widget_ga609413ac47ba433d1e7da8678a27164f_cgraph" id="agroup__fl__del__widget_ga609413ac47ba433d1e7da8678a27164f_cgraph">
<area shape="rect" title=" " alt="" coords="5,156,140,181"/>
<area shape="rect" href="classFl__Widget.html#ab10fa28a3d0fb760b5080aa558e4652d" title=" " alt="" coords="188,56,355,81"/>
<area shape="poly" title=" " alt="" coords="88,154,131,122,187,90,204,83,206,88,189,95,134,127,91,158"/>
<area shape="rect" href="classFl__Widget.html#a1fe8405b86da29d147dc3b5841cf181c" title=" " alt="" coords="210,105,333,131"/>
<area shape="poly" title=" " alt="" coords="123,153,207,131,209,137,124,158"/>
<area shape="rect" href="classFl__Widget.html#ac51a7380e249127ca47aad175f162360" title=" " alt="" coords="403,156,553,181"/>
<area shape="poly" title=" " alt="" coords="140,166,389,166,389,171,140,171"/>
<area shape="rect" href="classFl__Window.html#a90c9895f5421e13fa0370611be5942ae" title=" " alt="" coords="207,207,335,232"/>
<area shape="poly" title=" " alt="" coords="124,179,209,201,207,206,123,184"/>
<area shape="rect" href="classFl__Window.html#aa09300542b2d8b49fc69a037bdd3b742" title=" " alt="" coords="200,256,343,281"/>
<area shape="poly" title=" " alt="" coords="91,179,134,210,189,242,206,249,204,254,187,247,131,215,88,184"/>
<area shape="rect" href="classFl__Widget.html#a9cb17cc092697dfd05a3fab55856d218" title=" " alt="" coords="409,5,547,31"/>
<area shape="poly" title=" " alt="" coords="325,103,353,90,368,80,377,70,401,48,427,34,429,39,404,52,381,74,371,84,356,95,327,108"/>
<area shape="rect" href="classFl__Widget.html#accde05cf78a23ba6a1e9547cc034f499" title=" " alt="" coords="602,81,739,107"/>
<area shape="poly" title=" " alt="" coords="329,103,402,91,499,87,588,88,588,93,499,92,403,97,330,108"/>
<area shape="rect" href="classFl__Widget.html#a7244e112711741978f19ceadd8f196b5" title=" " alt="" coords="405,107,551,132"/>
<area shape="poly" title=" " alt="" coords="333,116,391,116,391,121,333,121"/>
<area shape="poly" title=" " alt="" coords="325,128,413,150,412,155,324,133"/>
<area shape="poly" title=" " alt="" coords="520,153,552,142,629,110,631,115,554,147,522,158"/>
<area shape="rect" href="classFl__Widget.html#ac103c73444da9035a31329cf938d77b3" title=" " alt="" coords="601,156,740,181"/>
<area shape="poly" title=" " alt="" coords="553,166,587,166,587,171,553,171"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__fl__del__widget_ga609413ac47ba433d1e7da8678a27164f_icgraph.png" border="0" usemap="#agroup__fl__del__widget_ga609413ac47ba433d1e7da8678a27164f_icgraph" alt=""/></div>
<map name="agroup__fl__del__widget_ga609413ac47ba433d1e7da8678a27164f_icgraph" id="agroup__fl__del__widget_ga609413ac47ba433d1e7da8678a27164f_icgraph">
<area shape="rect" title=" " alt="" coords="259,13,393,38"/>
<area shape="rect" href="classWidget__Bin__Window__Button.html#a260728ab4d6f301c015425613fd692c8" title=" " alt="" coords="5,5,211,45"/>
<area shape="poly" title=" " alt="" coords="245,28,211,28,211,23,245,23"/>
</map>
</div>

</div>
</div>
<a id="ga838010444986ae57301d6e8289d2dfbb" name="ga838010444986ae57301d6e8289d2dfbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga838010444986ae57301d6e8289d2dfbb">&#9670;&#160;</a></span>do_widget_deletion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fl::do_widget_deletion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deletes widgets previously scheduled for deletion.</p>
<p>This is for internal use only. You should never call this directly.</p>
<p><a class="el" href="group__fl__del__widget.html#ga838010444986ae57301d6e8289d2dfbb">Fl::do_widget_deletion()</a> is called from the FLTK event loop or whenever you call <a class="el" href="classFl.html#a108a84216f0b3fa1cb0c46ab7449a312">Fl::wait()</a>. The previously scheduled widgets are deleted in the same order they were scheduled by calling <a class="el" href="group__fl__del__widget.html#ga609413ac47ba433d1e7da8678a27164f">Fl::delete_widget()</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__fl__del__widget.html#ga609413ac47ba433d1e7da8678a27164f">Fl::delete_widget(Fl_Widget *wi)</a> </dd></dl>

</div>
</div>
<a id="ga1426329d09de561319d4555018d9d1a2" name="ga1426329d09de561319d4555018d9d1a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1426329d09de561319d4555018d9d1a2">&#9670;&#160;</a></span>release_widget_pointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fl::release_widget_pointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFl__Widget.html">Fl_Widget</a> *&amp;&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Releases a widget pointer from the watch list.</p>
<p>This is used to remove a widget pointer that has been added to the watch list with <a class="el" href="group__fl__del__widget.html#ga16ecd6d20b793fd0f3081eaab369caa9">Fl::watch_widget_pointer()</a>, when it is not needed anymore.</p>
<dl class="section note"><dt>Note</dt><dd>Internal use only, please use class <a class="el" href="classFl__Widget__Tracker.html">Fl_Widget_Tracker</a> instead.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__fl__del__widget.html#ga16ecd6d20b793fd0f3081eaab369caa9">Fl::watch_widget_pointer()</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__fl__del__widget_ga1426329d09de561319d4555018d9d1a2_cgraph.png" border="0" usemap="#agroup__fl__del__widget_ga1426329d09de561319d4555018d9d1a2_cgraph" alt=""/></div>
<map name="agroup__fl__del__widget_ga1426329d09de561319d4555018d9d1a2_cgraph" id="agroup__fl__del__widget_ga1426329d09de561319d4555018d9d1a2_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,147,45"/>
<area shape="rect" href="group__fl__screen.html#ga7aba4252407f539aa6d821551aaba5ff" title=" " alt="" coords="195,13,248,38"/>
<area shape="poly" title=" " alt="" coords="147,23,181,23,181,28,147,28"/>
<area shape="rect" href="classFl.html#a5f50cdc3a9b33837434f01ee4742dc37" title=" " alt="" coords="296,13,427,38"/>
<area shape="poly" title=" " alt="" coords="248,23,282,23,282,28,248,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__fl__del__widget_ga1426329d09de561319d4555018d9d1a2_icgraph.png" border="0" usemap="#agroup__fl__del__widget_ga1426329d09de561319d4555018d9d1a2_icgraph" alt=""/></div>
<map name="agroup__fl__del__widget_ga1426329d09de561319d4555018d9d1a2_icgraph" id="agroup__fl__del__widget_ga1426329d09de561319d4555018d9d1a2_icgraph">
<area shape="rect" title=" " alt="" coords="204,5,345,45"/>
<area shape="rect" href="classFl__Widget__Tracker.html#ad8b10b224a41cbe76566b57742190834" title=" " alt="" coords="5,5,156,45"/>
<area shape="poly" title=" " alt="" coords="190,28,156,28,156,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="ga16ecd6d20b793fd0f3081eaab369caa9" name="ga16ecd6d20b793fd0f3081eaab369caa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16ecd6d20b793fd0f3081eaab369caa9">&#9670;&#160;</a></span>watch_widget_pointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fl::watch_widget_pointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFl__Widget.html">Fl_Widget</a> *&amp;&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds a widget pointer to the widget watch list.</p>
<dl class="section note"><dt>Note</dt><dd>Internal use only, please use class <a class="el" href="classFl__Widget__Tracker.html">Fl_Widget_Tracker</a> instead.</dd></dl>
<p>This can be used, if it is possible that a widget might be deleted during a callback or similar function. The widget pointer must be added to the watch list before calling the callback. After the callback the widget pointer can be queried, if it is NULL. <em>If</em> it is NULL, then the widget has been deleted during the callback and must not be accessed anymore. If the widget pointer is <em>not</em> NULL, then the widget has not been deleted and can be accessed safely.</p>
<p>After accessing the widget, the widget pointer must be released from the watch list by calling <a class="el" href="group__fl__del__widget.html#ga1426329d09de561319d4555018d9d1a2">Fl::release_widget_pointer()</a>.</p>
<p>Example for a button that is clicked (from its <a class="el" href="group__fl__events.html#ga064a4028b27d7da1238a6e5280582abf" title="Handle events from the window system.">handle()</a> method): </p><div class="fragment"><div class="line"><a class="code hl_class" href="classFl__Widget.html">Fl_Widget</a> *wp = <span class="keyword">this</span>;           <span class="comment">// save &#39;this&#39; in a pointer variable</span></div>
<div class="line"><a class="code hl_function" href="group__fl__del__widget.html#ga16ecd6d20b793fd0f3081eaab369caa9">Fl::watch_widget_pointer</a>(wp);   <span class="comment">// add the pointer to the watch list</span></div>
<div class="line">set_changed();                  <span class="comment">// set the changed flag</span></div>
<div class="line">do_callback();                  <span class="comment">// call the callback</span></div>
<div class="line"><span class="keywordflow">if</span> (!wp) {                      <span class="comment">// the widget has been deleted</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// DO NOT ACCESS THE DELETED WIDGET !</span></div>
<div class="line"> </div>
<div class="line">} <span class="keywordflow">else</span> {                        <span class="comment">// the widget still exists</span></div>
<div class="line">  clear_changed();              <span class="comment">// reset the changed flag</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group__fl__del__widget.html#ga1426329d09de561319d4555018d9d1a2">Fl::release_widget_pointer</a>(wp); <span class="comment">// remove the pointer from the watch list</span></div>
<div class="ttc" id="aclassFl__Widget_html"><div class="ttname"><a href="classFl__Widget.html">Fl_Widget</a></div><div class="ttdef"><b>Definition</b> Fl_Widget.H:112</div></div>
<div class="ttc" id="agroup__fl__del__widget_html_ga1426329d09de561319d4555018d9d1a2"><div class="ttname"><a href="group__fl__del__widget.html#ga1426329d09de561319d4555018d9d1a2">Fl::release_widget_pointer</a></div><div class="ttdeci">static void release_widget_pointer(Fl_Widget *&amp;w)</div><div class="ttdef"><b>Definition</b> Fl.cxx:1955</div></div>
<div class="ttc" id="agroup__fl__del__widget_html_ga16ecd6d20b793fd0f3081eaab369caa9"><div class="ttname"><a href="group__fl__del__widget.html#ga16ecd6d20b793fd0f3081eaab369caa9">Fl::watch_widget_pointer</a></div><div class="ttdeci">static void watch_widget_pointer(Fl_Widget *&amp;w)</div><div class="ttdef"><b>Definition</b> Fl.cxx:1925</div></div>
</div><!-- fragment --><p>This works, because all widgets call <a class="el" href="group__fl__del__widget.html#gad3cbd31083b47836cbe00ffb7006a4d4">Fl::clear_widget_pointer()</a> in their destructors.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__fl__del__widget.html#ga1426329d09de561319d4555018d9d1a2">Fl::release_widget_pointer()</a> </dd>
<dd>
<a class="el" href="group__fl__del__widget.html#gad3cbd31083b47836cbe00ffb7006a4d4">Fl::clear_widget_pointer()</a></dd></dl>
<p>An easier and more convenient method to control widget deletion during callbacks is to use the class <a class="el" href="classFl__Widget__Tracker.html">Fl_Widget_Tracker</a> with a local (automatic) variable.</p>
<dl class="section see"><dt>See also</dt><dd>class <a class="el" href="classFl__Widget__Tracker.html">Fl_Widget_Tracker</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__fl__del__widget_ga16ecd6d20b793fd0f3081eaab369caa9_cgraph.png" border="0" usemap="#agroup__fl__del__widget_ga16ecd6d20b793fd0f3081eaab369caa9_cgraph" alt=""/></div>
<map name="agroup__fl__del__widget_ga16ecd6d20b793fd0f3081eaab369caa9_cgraph" id="agroup__fl__del__widget_ga16ecd6d20b793fd0f3081eaab369caa9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,191,31"/>
<area shape="rect" href="group__fl__screen.html#ga7aba4252407f539aa6d821551aaba5ff" title=" " alt="" coords="239,5,292,31"/>
<area shape="poly" title=" " alt="" coords="191,15,225,15,225,21,191,21"/>
<area shape="rect" href="classFl.html#a5f50cdc3a9b33837434f01ee4742dc37" title=" " alt="" coords="340,5,471,31"/>
<area shape="poly" title=" " alt="" coords="292,15,326,15,326,21,292,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__fl__del__widget_ga16ecd6d20b793fd0f3081eaab369caa9_icgraph.png" border="0" usemap="#agroup__fl__del__widget_ga16ecd6d20b793fd0f3081eaab369caa9_icgraph" alt=""/></div>
<map name="agroup__fl__del__widget_ga16ecd6d20b793fd0f3081eaab369caa9_icgraph" id="agroup__fl__del__widget_ga16ecd6d20b793fd0f3081eaab369caa9_icgraph">
<area shape="rect" title=" " alt="" coords="201,13,387,38"/>
<area shape="rect" href="classFl__Widget__Tracker.html#af56fbd8246a36a9f81af4b33a51bdbbf" title=" " alt="" coords="5,5,153,45"/>
<area shape="poly" title=" " alt="" coords="187,28,153,28,153,23,187,23"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
