<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fltk: How Does Resizing Work?</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fltk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">FLTK Programming Manual</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">How Does Resizing Work?</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This chapter describes the basic mechanism behind the creation of resizable user interface elements in FLTK.</p>
<p>FLTK uses a simple, but very versatile system to resize even the most complex dialogs and interfaces. The resizing is implemented within the <a class="el" href="classFl__Group.html">Fl_Group</a> widget, and the exact resizing behavior of that group is determined by its <a class="el" href="classFl__Group.html#ab0ed0d1974d7185594687849f386c5f3">resizable() </a> attribute.</p>
<h1><a class="anchor" id="resize_disabled"></a>
Resizing can be disabled</h1>
<div class="fragment"><div class="line">Summary:</div>
<div class="line">  group = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Group.html">Fl_Group</a>(xg, yg, wg, hg, <span class="stringliteral">&quot;No Resizing&quot;</span>);</div>
<div class="line">  child1 = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Box.html">Fl_Box</a>(xb, yb, wb, hb, <span class="stringliteral">&quot;B&quot;</span>); <span class="comment">// or other widget type</span></div>
<div class="line">  . . .</div>
<div class="line">  group-&gt;resizable((<a class="code hl_class" href="classFl__Widget.html">Fl_Widget</a>*)0); <span class="comment">// no resizing</span></div>
<div class="line">  group-&gt;end()</div>
<div class="ttc" id="aclassFl__Box_html"><div class="ttname"><a href="classFl__Box.html">Fl_Box</a></div><div class="ttdef"><b>Definition</b> Fl_Box.H:33</div></div>
<div class="ttc" id="aclassFl__Group_html"><div class="ttname"><a href="classFl__Group.html">Fl_Group</a></div><div class="ttdef"><b>Definition</b> Fl_Group.H:56</div></div>
<div class="ttc" id="aclassFl__Widget_html"><div class="ttname"><a href="classFl__Widget.html">Fl_Widget</a></div><div class="ttdef"><b>Definition</b> Fl_Widget.H:112</div></div>
</div><!-- fragment --><p>The <code>resizable</code> may be set to the NULL pointer, which means that the group will not resize. Note that this is the default behavior for <a class="el" href="classFl__Window.html">Fl_Window</a> and <a class="el" href="classFl__Pack.html">Fl_Pack</a> derived widgets, and therefore the programmer must explicitly set the window's <code>resizable</code> attribute if they want to allow the window to be resized.</p>
<h1><a class="anchor" id="resize_simple"></a>
Resizing can be simple</h1>
<div class="fragment"><div class="line">Summary:</div>
<div class="line">  group = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Group.html">Fl_Group</a>(xg, yg, wg, hg, <span class="stringliteral">&quot;Simple Resizing&quot;</span>);</div>
<div class="line">  child1 = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Box.html">Fl_Box</a>(xb, yb, wb, hb, <span class="stringliteral">&quot;B&quot;</span>); <span class="comment">// or other widget type</span></div>
<div class="line">  . . .</div>
<div class="line">  group-&gt;resizable(group); <span class="comment">// simple proportional resizing</span></div>
<div class="line">  group-&gt;end()</div>
</div><!-- fragment --><p>The <code>resizable</code> may be set to the group itself, which means that all widgets within the group will resize as the group itself is resized. This is the default behavior for <a class="el" href="classFl__Group.html">Fl_Group</a> widgets, and is shown in the diagram below.</p>
<p>If the group is stretched horizontally, the widths of the widgets within the group are adjusted proportionally. The same is true for vertical resizing.</p>
<div class="image">
<img src="resize-example1.png" alt=""/>
<div class="caption">
Proportional resizing example</div></div>
 <h1><a class="anchor" id="resize_complex"></a>
Resizing can be complex</h1>
<div class="fragment"><div class="line">Summary:</div>
<div class="line">  group = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Group.html">Fl_Group</a>(xg, yg, wg, hg, <span class="stringliteral">&quot;Complex Resizing&quot;</span>);</div>
<div class="line">  child1 = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Box.html">Fl_Box</a>(xb, yb, wb, hb, <span class="stringliteral">&quot;B&quot;</span>); <span class="comment">// or other widget type</span></div>
<div class="line">  . . .</div>
<div class="line">  group-&gt;resizable(child1); <span class="comment">// complex resizing</span></div>
<div class="line">  group-&gt;end()</div>
</div><!-- fragment --><p>It is when the group's <code>resizable</code> attribute is set to one of the group's child widgets, that things become really interesting.</p>
<p>In the diagram below, imagine vertical lines extending from the left and right sides of the yellow widget marked "resizable", and horizontal lines extending from the top and bottom sides. Exactly which widgets resize, and by how much, is determined by which ones lie completely or partially within this cross.</p>
<p>The widgets marked B, C, J, K and M clearly lie completely or partially within the vertical part of the cross; the widgets marked E, F, G, H and N lie completely or partially within the horizontal part of the cross; and the widgets marked A, D, I and L do not overlap with the cross at all. The resizing behavior is as follows:</p>
<ul>
<li>the width and height of the <code>resizable</code> widget increase to match the change in the width and height of the group widget as it is stretched;</li>
</ul>
<ul>
<li>the widths of those widgets that overlap with the vertical part of the cross increase proportionally as the width of the group widget increases, but their heights remain unchanged, i.e. the widgets marked B, C, J, K and M;</li>
</ul>
<ul>
<li>the heights of those widgets that overlap with the horizontal part of the cross increase proportionally as the height of the group widget increases, but their widths remain unchanged, i.e. the widgets marked E, F, G, H and N;</li>
</ul>
<ul>
<li>the widths and heights of the remaining widgets stay the same, i.e. the widgets marked A, D, I and L stay the same size.</li>
</ul>
<div class="image">
<img src="resize-example2.png" alt=""/>
<div class="caption">
Complex resizing example</div></div>
 <h1><a class="anchor" id="resize_practical"></a>
Practical examples</h1>
<p>Why is this so powerful, you may ask. Well, every widget group can have a completely independent resizing strategy. By replacing one or more of the group's "normal" child widgets with another group widget where all of the above rules can be applied again, it is possible to create a hierarchy of group widgets with very complex layouts and resizing behavior.</p>
<p>Consider a simple dialog box, consisting of an icon box and a message area on the top and a button at the bottom right: which widget should be the <code>resizable</code> one?</p>
<p>Setting the <code>resizable</code> to be the icon box won't give us what we want:</p>
<div class="image">
<img src="resize-example3a.png" alt=""/>
<div class="caption">
Resizing dialog example (a)</div></div>
 <p>The message text area would be the logical choice so that the user can expand the dialog to see if there is more of an explanation below the short error message. This results in the behavior shown in the diagram below.</p>
<div class="image">
<img src="resize-example3b.png" alt=""/>
<div class="caption">
Resizing dialog example (b)</div></div>
 <p>The result is close to what we want, but not quite: the text area will fully resize, the "!" icon box will resize vertically but not horizontally, which we can live with, but the "Darn!" button will - wait a minute - resize horizontally?</p>
<p>That's ugly. How do we stop that from happening? Simple: put it in its own group and set the <code>resizable</code> to an invisible box widget, as shown in the diagram below.</p>
<div class="image">
<img src="resize-example3c.png" alt=""/>
<div class="caption">
Resizing dialog example (c)</div></div>
 <p>Now the invisible box, shown as "R", takes all of the horizontal resizing and the "Darn!" box will stay as it is. Here's the skeleton code:</p>
<div class="fragment"><div class="line">dialog = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Window.html">Fl_Window</a>(300, 100);</div>
<div class="line">  icon = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Box.html">Fl_Box</a>(0, 0, 50, 50, <span class="stringliteral">&quot;!&quot;</span>);</div>
<div class="line">  text = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Box.html">Fl_Box</a>(50, 0, 250, 40, <span class="stringliteral">&quot;Out of Memory Error&quot;</span>);</div>
<div class="line">  btns = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Group.html">Fl_Group</a>(50, 50, 250, 50); <span class="comment">// parent group</span></div>
<div class="line">  darn = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Button.html">Fl_Button</a>(200, 50, 100, 50, <span class="stringliteral">&quot;Darn!&quot;</span>);</div>
<div class="line">     R = <span class="keyword">new</span> <a class="code hl_class" href="classFl__Box.html">Fl_Box</a>(50, 50, 150, 50);   <span class="comment">// &quot;invisible&quot; box &quot;R&quot;</span></div>
<div class="line">     R-&gt;hide();                         <span class="comment">// make sure it&#39;s invisible</span></div>
<div class="line">  btns-&gt;resizable(R);                   <span class="comment">// make &quot;R&quot; parent group resizable</span></div>
<div class="line">  btns-&gt;end();</div>
<div class="line">dialog-&gt;resizable(text);</div>
<div class="line">dialog-&gt;end();</div>
<div class="ttc" id="aclassFl__Button_html"><div class="ttname"><a href="classFl__Button.html">Fl_Button</a></div><div class="ttdoc">Buttons generate callbacks when they are clicked by the user.</div><div class="ttdef"><b>Definition</b> Fl_Button.H:76</div></div>
<div class="ttc" id="aclassFl__Window_html"><div class="ttname"><a href="classFl__Window.html">Fl_Window</a></div><div class="ttdef"><b>Definition</b> Fl_Window.H:55</div></div>
</div><!-- fragment --><p>Imagine instead that you have a group that has a button, an input field, another button and a second input field, all next to each other, and you want the input fields to resize equally, but not the buttons. How could you achieve this?</p>
<p>Setting either of the input fields to be the <code>resizable</code> leaves the other one fixed, as shown below:</p>
<div class="image">
<img src="resize-example4a.png" alt=""/>
<div class="caption">
Resizing input fields example (a)</div></div>
 <p>The answer is to leave the <code>resizable</code> of the group set to itself, and to create two equal size subgroups, each of which will resize equally. Add a button and input field to each subgroup, and set each subgroup's <code>resizable</code> to the input field, as shown below. Tada!</p>
<div class="image">
<img src="resize-example4b.png" alt=""/>
<div class="caption">
Resizing input fields example (b)</div></div>
 <p>In FLTK it is possible to solve almost any layout and resizing problem by introducing an invisible box into a group, or an extra group into the widget hierarchy. It might take some thought to achieve exactly what you want and sometimes it is necessary to introduce parallel hierarchies in order to get widgets in different groups to resize together.</p>
<p>Imagine you have a group containing three widgets in a row, and you want the widget in the middle to stay the same size when the group is stretched and the ones on either side and the padding between them to resize symmetrically. As described earlier, the default resizing behavior for a group results in proportional resizing of the child widgets (and also of the margins and padding between them) as shown below, which is clearly not what you want.</p>
<div class="image">
<img src="resize-example5a.png" alt=""/>
<div class="caption">
Resizing a row of widgets (a)</div></div>
 <p>Simply adding a group around A and B and setting its <code>resizable</code> to A, as in the previous btn-input example, will mean that B stays the same size, but the other widgets won't resize symmetrically, so what else is needed? It isn't immediately obvious how to solve this problem, even for experienced FLTK users. This is possibly because users are generally advised to design widgets so that they don't overlap.</p>
<p>Albrecht Schlosser proposed an innovative technique that involves an invisible box that deliberately overlaps others to achieve the desired behavior. For the current example, this means inserting two new groups into the existing group and adding a hidden resizable widget.</p>
<p>The first group, shown in red below, extends from the left edge of the parent group to the middle of the gap between boxes B and C on the right. This first group contains boxes A and B, where A is the first group's <code>resizable</code> attribute.</p>
<p>The second group, shown in blue, extends from the right edge of the first group to the right edge of the parent group. This second group contains box C, where C is the second group's <code>resizable</code>.</p>
<p>The extra box widget is added to the parent group and is set as the group's <code>resizable</code>. The three <code>resizable</code> widgets are shown in yellow.</p>
<p>The clever bit is that this extra box widget is not horizontally aligned with any of the existing groups and widgets in the usual way, but instead overlaps the right and left parts of the two new groups by the same small amount, which means that its midpoint is aligned with the edge between the groups.</p>
<p>Note that, for clarity, the height of the original group has been increased to allow space for the additional annotation and to highlight the extra resizable box in the extra space at the bottom of the group. This is fine for the horizontal-only resizing shown here, but means that widgets A, B and C will never change height because the extra resizable box does not overlap them vertically. Only the padding below them will be resized.</p>
<div class="image">
<img src="resize-example5b.png" alt=""/>
<div class="caption">
Resizing a row of widgets (b)</div></div>
 <p>In a real application, you probably want to allow widgets A, B and C to resize vertically while the height of any padding or widgets above or below remains fixed, so the extra resizable box has to lie within the height of widgets A, B and C. Obviously after calling <code>hide()</code> on the box it is no longer visible, and may therefore be the same height as the other widgets, or a fraction of the height, as shown below.</p>
<div class="image">
<img src="resize-example5c.png" alt=""/>
<div class="caption">
Resizing a row of widgets (c)</div></div>
 <p>To summarize the key points of the new technique:</p>
<ul>
<li>The new resizable widget must overlap the widgets on each side by exactly the same amount.</li>
</ul>
<ul>
<li>The width of the new resizable widget is not fixed, but should probably be a relatively small value to avoid potential problems.</li>
</ul>
<ul>
<li>The total width of the two new groups must equal the width of the existing group and there can be no offsets or gaps between them because margins and gaps will affect the resizing behavior.</li>
</ul>
<ul>
<li>The same principles apply to vertical resizing.</li>
</ul>
<p> 
<hr>
<table summary="navigation bar" width="100%" border="0">
<tr>
  <td width="45%" align="LEFT">
    <a class="el" href="coordinates.html">
    [Prev]
    Coordinates and Layout Widgets
    </a>
  </td>
  <td width="10%" align="CENTER">
    <a class="el" href="index.html">[Index]</a>
  </td>
  <td width="45%" align="RIGHT">
    <a class="el" href="editor.html">
    Designing a Simple Text Editor
    [Next]
    </a>
  </td>
</tr>
</table>
 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
