<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fltk: Tutorials</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fltk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Tutorials</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#fluid_hello_world_tutorial">Hello, World!</a></li>
<li class="level1"><a href="#fluid_1of7guis_tutorial">7GUIs, Task 1</a></li>
<li class="level1"><a href="#fluid_cubeview_tutorial">Cube View</a><ul><li class="level2"><a href="#fluid_cubeview">The CubeView Class</a></li>
<li class="level2"><a href="#fluid_cubeview_ui">The CubeViewUI Class</a></li>
<li class="level2"><a href="#fluid_addconst">Adding Constructor Initialization Code</a></li>
<li class="level2"><a href="#fluid_gencode">Generating the Code</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="fluid_hello_world_tutorial"></a>
Hello, World!</h1>
<p>The first FLUID tutorial explains the FLUID basics. It creates a single <code>main()</code> function that opens an application window with a static text box inside.</p>
<p>After launching FLUID we want to make sure that two very useful tool windows are open. The "Widget Bin" gives quick access to all available widgets and functional types. It can be opened via the main menu: <b>Edit &gt; Show Widget Bin</b>, or using the shortcut <b>Alt-B</b>.</p>
<p>The second very helpful tool box is the "Code View". The Code View gives a preview of the code as it will be generated by FLUID. All changes in the layout or in attributes are reflected immediately in the Code View. Choose <b>Edit &gt; Show Code View</b> or press <b>Alt-C</b> to get this toolbox. Make sure that <em>Auto-Refresh</em> and <em>Auto-Position</em> are active in the Code View.</p>
<p>Let's start Hello World from scratch. If there is already a previous project loaded, select <b>File &gt; New</b> or <b>Ctrl-N</b>.</p>
<p>Before we can create a window, we need a "C" function that can be called when we run the program. Select <b>New &gt; Code &gt; Function/Method...</b> or click on the <img src="flFunction.png" alt="" class="inline" title="Function/Method"/>  image in the widget bin.</p>
<p>A function is added as a first line to the widget tree in the main window, and a "Function/Method Properties" dialog box will pop up. For our Hello World program, delete all text in the top "Name(args)" text field. If this field is left empty, FLUID will generate a <code>main(argc, argv)</code> function for us.</p>
<div class="image">
<img src="fluid4.png" alt=""/>
<div class="caption">
Function/Method Properties Dialog</div></div>
 <p>Click OK to apply the changes you made in the Function Properties dialog. You can get this dialog back at any time by selecting the function in the main window and pressing <b>F1</b>, or by double-clicking it.</p>
<p>Note that the function will not show up in the Code View yet. FLUID will not generate code for functions that don't have any content, and only create a forward declaration in the header file, assuming that the function will be implemented inside another module.</p>
<p>Keep the <code>main</code> function selected and add an <code>Fl_Window</code> to the function by selecting <b>New &gt; Group &gt; Window...</b>, by clicking the <img src="flWindow.png" alt="" class="inline" title="Group/Window"/>  image in the Widget Bin, or by dragging the Group/Window image from the Widget Bin onto the desktop.</p>
<p>A new application window will open up on the desktop. The thin red outline around the window indicates that it is selected. Dragging the red line will resize the window. Take a look at the Code View: the main function is now generated, including code to instantiate our <code>Fl_Window</code>.</p>
<p>To edit all the attributes of our window, make sure it is selected and press <b>F1</b>, or double-click the entry in the main FLUID window, or double-click the window itself. The "Widget Properties" dialog box will pop up. Enter some text in the "Label:" text box and see how the label is updated immediately in the window itself, in the widget list, and in the Code View.</p>
<p>Adding a static text to our window is just as easy. Put an <code>Fl_Box</code> into our window by selecting <b>New &gt; Other &gt; <a class="el" href="classBox.html">Box</a></b>, or by clicking on the <img src="flBox.png" alt="" class="inline" title="Other/Box"/>  image in the Widget Bin, or by dragging the Other/Box image from the Widget Bin into our newly created window.</p>
<p>Most importantly, enter the text "Hello, World!" in the "Label:" field of the <a class="el" href="classBox.html">Box</a> Widget Properties panel to achieve the goal of this tutorial. Now is also a great time to experiment with label styles, label fonts, sizes, colors, etc. .</p>
<p>Finally, we should save our project as an <code>.fl</code> project file somewhere. Once the project is saved, select <b>File &gt; Write Code</b> or press <b>Shift-Ctrl-C</b> to write our source code and header file to the same directory.</p>
<p>Compile the program using a Makefile, CMake file, or fltk-config as described in the FLTK manual and the <code>README.txt</code> files in the FLTK source tree.</p>
<h1><a class="anchor" id="fluid_1of7guis_tutorial"></a>
7GUIs, Task 1</h1>
<p>In the first "Hello World" tutorial, we built an entire application in FLUID. It's a boring application though that does nothing except quitting when the close button in the window border is clicked.</p>
<div class="image">
<img src="1of7GUIs.png" alt=""/>
<div class="caption">
Task 1 of 7GUIs</div></div>
 <p>The second tutorial will introduce callbacks by implementing task 1, "Counter", of 7GUIs. 7GUIs has been created as a spin-off of my master’s thesis Comparison of Object-Oriented and Functional Programming for GUI Development at the Human-Computer Interaction group of the Leibniz Universität Hannover in 2014. 7GUIs defines seven tasks that represent typical challenges in GUI programming. <a href="https://eugenkiss.github.io/7guis/">https://eugenkiss.github.io/7guis/</a> .</p>
<p>Task 1 requires "Understanding the basic ideas of a language/toolkit. The
 task is to build a frame containing a label or read-only textfield T and a
 button B. Initially, the value in T is “0” and each click of B increases the
 value in T by one."</p>
<p>Our knowledge from tutorial 1 is enough to generate the <code>main()</code> function, and add an <code>Fl_Window</code>, an <code>Fl_Output</code>, and an <code>Fl_Button</code>. To make life easy, FLUID comes with a built-in template for this tutorial. Just select <b>File &gt; New from Template...</b> and double-click "1of7GUIs" in the Template <a class="el" href="classPanel.html">Panel</a>.</p>
<p>We will need to reference the output widget in our callback, so let's assign a pointer to the widget to a global variable and give that variable a name. Open the Widget Properties dialog by double-clicking the output widget. Change to the "C++" tab, and enter "`counter_widget`" in the "Name:" field.</p>
<p>The "Count" button is the active element in our application. To tell the app what to do when the user clicks the button, we create a callback function for that button. Open the widget properties dialog for the button. In the "C++" tab, we find the input field "Callback:".</p>
<p>The callback is called exactly once every time the user clicks the button. Our strategy here is to read the current value from the <code>counter_widget</code>, increment it by 1, and write it back to <code>counter_widget</code>. The FLTK documentation tells us that we can use <code>Fl_Output::ivalue()</code> to get text in <code>Fl_Output</code> as an integer, and we can write it back by calling <code>Fl_Output::value(int)</code>. When the value is changed, FLTK will automatically redraw the output widget for us. So here is the callback code:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> i = counter_widget-&gt;ivalue();</div>
<div class="line">i++;</div>
<div class="line">counter_widget-&gt;value(i);</div>
</div><!-- fragment --><p>That's it. This is a complete interactive desktop application. Compile, link, run, and test it to see how it works.</p>
<h1><a class="anchor" id="fluid_cubeview_tutorial"></a>
Cube View</h1>
<p>This tutorial will show you how to generate a complete user interface class with FLUID that is used for the <a class="el" href="classCubeView.html">CubeView</a> program provided with FLTK.</p>
<div class="image">
<img src="cubeview.png" alt=""/>
<div class="caption">
CubeView demo</div></div>
 <p>The window is of class CubeViewUI, and is completely generated by FLUID, including class member functions. The central display of the cube is a separate subclass of Fl_Gl_Window called <a class="el" href="classCubeView.html">CubeView</a>. CubeViewUI manages <a class="el" href="classCubeView.html">CubeView</a> using callbacks from the various sliders and rollers to manipulate the viewing angle and zoom of <a class="el" href="classCubeView.html">CubeView</a>.</p>
<p>At the completion of this tutorial you will (hopefully) understand how to:</p>
<ol type="1">
<li>Use FLUID to create a complete user interface class, including constructor and any member functions necessary.</li>
<li>Use FLUID to set callback member functions of custom widget classes.</li>
<li>Subclass an Fl_Gl_Window to suit your purposes.</li>
</ol>
<h2><a class="anchor" id="fluid_cubeview"></a>
The CubeView Class</h2>
<p>The <a class="el" href="classCubeView.html">CubeView</a> class is a subclass of Fl_Gl_Window. It has methods for setting the zoom, the <em>x</em> and <em>y</em> pan, and the rotation angle about the <em>x</em> and <em>y</em> axes.</p>
<p>You can safely skip this section as long as you realize that <a class="el" href="classCubeView.html">CubeView</a> is a sublass of Fl_Gl_Window and will respond to calls from CubeViewUI, generated by FLUID.</p>
<dl class="section user"><dt>The CubeView Class Definition</dt><dd></dd></dl>
<p>Here is the <a class="el" href="classCubeView.html">CubeView</a> class definition, as given by its header file "test/CubeView.h": <br  />
</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;FL/Fl.H&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;FL/Fl_Gl_Window.H&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gl_8h.html">FL/gl.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="classCubeView.html">CubeView</a> : <span class="keyword">public</span> Fl_Gl_Window {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <a class="code hl_class" href="classCubeView.html">CubeView</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, <span class="keyword">const</span> <span class="keywordtype">char</span> *l = 0);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// This value determines the scaling factor used to draw the cube.</span></div>
<div class="line">  <span class="keywordtype">double</span> size;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* Set the rotation about the vertical (y) axis.</span></div>
<div class="line"><span class="comment">    </span></div>
<div class="line"><span class="comment">     This function is called by the horizontal roller in</span></div>
<div class="line"><span class="comment">     CubeViewUI and the initialize button in CubeViewUI.</span></div>
<div class="line"><span class="comment">    /</span></div>
<div class="line"><span class="comment">  void v_angle(double angle) { vAng = angle; }</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  // Return the rotation about the vertical (y) axis.</span></div>
<div class="line"><span class="comment">  double v_angle() const { return vAng; }</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /* Set the rotation about the horizontal (x) axis.</span></div>
<div class="line"><span class="comment">    </span></div>
<div class="line"><span class="comment">     This function is called by the vertical roller in</span></div>
<div class="line"><span class="comment">     CubeViewUI and the initialize button in CubeViewUI.</span></div>
<div class="line"><span class="comment">    /</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  void h_angle(double angle) { hAng = angle; }</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  // The rotation about the horizontal (x) axis.</span></div>
<div class="line"><span class="comment">  double h_angle() const { return hAng; }</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /* Sets the x shift of the cube view camera.</span></div>
<div class="line"><span class="comment">    </span></div>
<div class="line"><span class="comment">     This function is called by the slider in CubeViewUI</span></div>
<div class="line"><span class="comment">     and the initialize button in CubeViewUI.</span></div>
<div class="line"><span class="comment">    /</span></div>
<div class="line"><span class="comment">  void panx(double x) { xshift = x; }</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /* Sets the y shift of the cube view camera.</span></div>
<div class="line"><span class="comment">    </span></div>
<div class="line"><span class="comment">     This function is called by the slider in CubeViewUI</span></div>
<div class="line"><span class="comment">     and the initialize button in CubeViewUI.</span></div>
<div class="line"><span class="comment">    /</span></div>
<div class="line"><span class="comment">  void pany(double y) { yshift = y; }</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /* The widget class draw() override.</span></div>
<div class="line"><span class="comment">    </span></div>
<div class="line"><span class="comment">     The draw() function initializes Gl for another round of</span></div>
<div class="line"><span class="comment">     drawing, then calls specialized functions for drawing each</span></div>
<div class="line"><span class="comment">     of the entities displayed in the cube view.</span></div>
<div class="line"><span class="comment">    /</span></div>
<div class="line"><span class="comment">  void draw();</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">private:</span></div>
<div class="line"><span class="comment">  /*  Draw the cube boundaries.</span></div>
<div class="line"><span class="comment">    </span></div>
<div class="line"><span class="comment">     Draw the faces of the cube using the boxv[] vertices,</span></div>
<div class="line"><span class="comment">     using GL_LINE_LOOP for the faces.</span></div>
<div class="line"><span class="comment">    /</span></div>
<div class="line"><span class="comment">  void drawCube();</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  double vAng, hAng;</span></div>
<div class="line"><span class="comment">  double xshift, yshift;</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  float boxv0[3]; float boxv1[3];</span></div>
<div class="line"><span class="comment">  float boxv2[3]; float boxv3[3];</span></div>
<div class="line"><span class="comment">  float boxv4[3]; float boxv5[3];</span></div>
<div class="line"><span class="comment">  float boxv6[3]; float boxv7[3];</span></div>
<div class="line"><span class="comment">};</span></div>
<div class="ttc" id="aclassCubeView_html"><div class="ttname"><a href="classCubeView.html">CubeView</a></div><div class="ttdef"><b>Definition</b> CubeView.h:39</div></div>
<div class="ttc" id="agl_8h_html"><div class="ttname"><a href="gl_8h.html">gl.h</a></div></div>
</div><!-- fragment --><dl class="section user"><dt>The CubeView Class Implementation</dt><dd></dd></dl>
<p>Here is the <a class="el" href="classCubeView.html">CubeView</a> implementation. It is very similar to the "CubeView" demo included with FLTK. <br  />
</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;CubeView.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"> </div>
<div class="line">CubeView::CubeView(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, <span class="keyword">const</span> <span class="keywordtype">char</span> *l)</div>
<div class="line">  : Fl_Gl_Window(x, y, w, h, l)</div>
<div class="line">{</div>
<div class="line">  Fl::use_high_res_GL(1);</div>
<div class="line">  vAng = 0.0;</div>
<div class="line">  hAng = 0.0;</div>
<div class="line">  size = 10.0;</div>
<div class="line">  xshift = 0.0;</div>
<div class="line">  yshift = 0.0;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* The cube definition. These are the vertices of a unit cube</span></div>
<div class="line"><span class="comment">     centered on the origin.*/</span></div>
<div class="line"> </div>
<div class="line">  boxv0[0] = -0.5; boxv0[1] = -0.5; boxv0[2] = -0.5;</div>
<div class="line">  boxv1[0] =  0.5; boxv1[1] = -0.5; boxv1[2] = -0.5;</div>
<div class="line">  boxv2[0] =  0.5; boxv2[1] =  0.5; boxv2[2] = -0.5;</div>
<div class="line">  boxv3[0] = -0.5; boxv3[1] =  0.5; boxv3[2] = -0.5;</div>
<div class="line">  boxv4[0] = -0.5; boxv4[1] = -0.5; boxv4[2] =  0.5;</div>
<div class="line">  boxv5[0] =  0.5; boxv5[1] = -0.5; boxv5[2] =  0.5;</div>
<div class="line">  boxv6[0] =  0.5; boxv6[1] =  0.5; boxv6[2] =  0.5;</div>
<div class="line">  boxv7[0] = -0.5; boxv7[1] =  0.5; boxv7[2] =  0.5;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> CubeView::drawCube() {</div>
<div class="line"><span class="comment">/* Draw a colored cube */</span></div>
<div class="line"><span class="preprocessor">#define ALPHA 0.5</span></div>
<div class="line">  glShadeModel(GL_FLAT);</div>
<div class="line"> </div>
<div class="line">  glBegin(GL_QUADS);</div>
<div class="line">    glColor4f(0.0, 0.0, 1.0, ALPHA);</div>
<div class="line">    glVertex3fv(boxv0);</div>
<div class="line">    glVertex3fv(boxv1);</div>
<div class="line">    glVertex3fv(boxv2);</div>
<div class="line">    glVertex3fv(boxv3);</div>
<div class="line"> </div>
<div class="line">    glColor4f(1.0, 1.0, 0.0, ALPHA);</div>
<div class="line">    glVertex3fv(boxv0);</div>
<div class="line">    glVertex3fv(boxv4);</div>
<div class="line">    glVertex3fv(boxv5);</div>
<div class="line">    glVertex3fv(boxv1);</div>
<div class="line"> </div>
<div class="line">    glColor4f(0.0, 1.0, 1.0, ALPHA);</div>
<div class="line">    glVertex3fv(boxv2);</div>
<div class="line">    glVertex3fv(boxv6);</div>
<div class="line">    glVertex3fv(boxv7);</div>
<div class="line">    glVertex3fv(boxv3);</div>
<div class="line"> </div>
<div class="line">    glColor4f(1.0, 0.0, 0.0, ALPHA);</div>
<div class="line">    glVertex3fv(boxv4);</div>
<div class="line">    glVertex3fv(boxv5);</div>
<div class="line">    glVertex3fv(boxv6);</div>
<div class="line">    glVertex3fv(boxv7);</div>
<div class="line"> </div>
<div class="line">    glColor4f(1.0, 0.0, 1.0, ALPHA);</div>
<div class="line">    glVertex3fv(boxv0);</div>
<div class="line">    glVertex3fv(boxv3);</div>
<div class="line">    glVertex3fv(boxv7);</div>
<div class="line">    glVertex3fv(boxv4);</div>
<div class="line"> </div>
<div class="line">    glColor4f(0.0, 1.0, 0.0, ALPHA);</div>
<div class="line">    glVertex3fv(boxv1);</div>
<div class="line">    glVertex3fv(boxv5);</div>
<div class="line">    glVertex3fv(boxv6);</div>
<div class="line">    glVertex3fv(boxv2);</div>
<div class="line">  glEnd();</div>
<div class="line"> </div>
<div class="line">  glColor3f(1.0, 1.0, 1.0);</div>
<div class="line">  glBegin(GL_LINES);</div>
<div class="line">    glVertex3fv(boxv0);</div>
<div class="line">    glVertex3fv(boxv1);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv1);</div>
<div class="line">    glVertex3fv(boxv2);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv2);</div>
<div class="line">    glVertex3fv(boxv3);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv3);</div>
<div class="line">    glVertex3fv(boxv0);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv4);</div>
<div class="line">    glVertex3fv(boxv5);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv5);</div>
<div class="line">    glVertex3fv(boxv6);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv6);</div>
<div class="line">    glVertex3fv(boxv7);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv7);</div>
<div class="line">    glVertex3fv(boxv4);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv0);</div>
<div class="line">    glVertex3fv(boxv4);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv1);</div>
<div class="line">    glVertex3fv(boxv5);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv2);</div>
<div class="line">    glVertex3fv(boxv6);</div>
<div class="line"> </div>
<div class="line">    glVertex3fv(boxv3);</div>
<div class="line">    glVertex3fv(boxv7);</div>
<div class="line">  glEnd();</div>
<div class="line">} <span class="comment">// drawCube</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> CubeView::draw() {</div>
<div class="line">  <span class="keywordflow">if</span> (!valid()) {</div>
<div class="line">    glLoadIdentity();</div>
<div class="line">    glViewport(0, 0, pixel_w(), pixel_h());</div>
<div class="line">    glOrtho(-10, 10, -10, 10, -20050, 10000);</div>
<div class="line">    glEnable(GL_BLEND);</div>
<div class="line">    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</div>
<div class="line"> </div>
<div class="line">  glPushMatrix();</div>
<div class="line"> </div>
<div class="line">  glTranslatef((GLfloat)xshift, (GLfloat)yshift, 0);</div>
<div class="line">  glRotatef((GLfloat)hAng, 0, 1, 0);</div>
<div class="line">  glRotatef((GLfloat)vAng, 1, 0, 0);</div>
<div class="line">  glScalef(<span class="keywordtype">float</span>(size), <span class="keywordtype">float</span>(size), <span class="keywordtype">float</span>(size));</div>
<div class="line"> </div>
<div class="line">  drawCube();</div>
<div class="line"> </div>
<div class="line">  glPopMatrix();</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="fluid_cubeview_ui"></a>
The CubeViewUI Class</h2>
<p>We will completely construct a window to display and control the <a class="el" href="classCubeView.html">CubeView</a> defined in the previous section using FLUID.</p>
<dl class="section user"><dt>Defining the CubeViewUI Class</dt><dd></dd></dl>
<p>Once you have started FLUID, the first step in defining a class is to create a new class within FLUID using the <b>New-&gt;Code-&gt;Class</b> menu item. Name the class "CubeViewUI" and leave the subclass blank. We do not need any inheritance for this window. You should see the new class declaration in the FLUID browser window.</p>
<div class="image">
<img src="fluid1.png" alt=""/>
<div class="caption">
FLUID file for CubeView</div></div>
 <dl class="section user"><dt>Adding the Class Constructor</dt><dd></dd></dl>
<p>Click on the CubeViewUI class in the FLUID window and add a new method by selecting <b>New-&gt;Code-&gt;Function/Method.</b> The name of the function will also be CubeViewUI. FLUID will understand that this will be the constructor for the class and will generate the appropriate code. Make sure you declare the constructor public.</p>
<p>Then add a window to the CubeViewUI class. Highlight the name of the constructor in the FLUID browser window and click on <b>New-&gt;Group-&gt;Window</b>. In a similar manner add the following to the CubeViewUI constructor:</p>
<ul>
<li>A horizontal roller named <code>hrot</code> </li>
<li>A vertical roller named <code>vrot</code> </li>
<li>A horizontal slider named <code>xpan</code> </li>
<li>A vertical slider named <code>ypan</code> </li>
<li>A horizontal value slider named <code>zoom</code> </li>
</ul>
<p>None of these additions need be public. And they shouldn't be unless you plan to expose them as part of the interface for CubeViewUI.</p>
<p>When you are finished you should have something like this:</p>
<div class="image">
<img src="fluid2.png" alt=""/>
<div class="caption">
FLUID window containing CubeView demo</div></div>
 <p>We will talk about the <code>show()</code> method that is highlighted shortly.</p>
<dl class="section user"><dt>Adding the CubeView Widget</dt><dd></dd></dl>
<p>What we have is nice, but does little to show our cube. We have already defined the <a class="el" href="classCubeView.html">CubeView</a> class and we would like to show it within the CubeViewUI.</p>
<p>The <a class="el" href="classCubeView.html">CubeView</a> class inherits the Fl_Gl_Window class, which is created in the same way as an Fl_Box widget. Use <b>New-&gt;Other-&gt;<a class="el" href="classBox.html">Box</a></b> to add a square box to the main window. This will be no ordinary box, however.</p>
<p>The <a class="el" href="classBox.html">Box</a> properties window will appear. The key to letting CubeViewUI display <a class="el" href="classCubeView.html">CubeView</a> is to enter <a class="el" href="classCubeView.html">CubeView</a> in the <b>Class:</b> text entry box. This tells FLUID that it is not an Fl_Box, but a similar widget with the same constructor.</p>
<p>In the <b>Extra Code:</b> field enter <code>#include "CubeView.h"</code></p>
<p>This <code>#include</code> is important, as we have just included <a class="el" href="classCubeView.html">CubeView</a> as a member of CubeViewUI, so any public <a class="el" href="classCubeView.html">CubeView</a> methods are now available to CubeViewUI.</p>
<div class="image">
<img src="fluid3-cxx.png" alt=""/>
<div class="caption">
CubeView methods</div></div>
 <dl class="section user"><dt>Defining the Callbacks</dt><dd></dd></dl>
<p>Each of the widgets we defined before adding <a class="el" href="classCubeView.html">CubeView</a> can have callbacks that call <a class="el" href="classCubeView.html">CubeView</a> methods. You can call an external function or put a short amount of code in the <b>Callback</b> field of the widget panel. For example, the callback for the <code>ypan</code> slider is:</p>
<div class="fragment"><div class="line">cube-&gt;pany(((Fl_Slider *)o)-&gt;value());</div>
<div class="line">cube-&gt;redraw();</div>
</div><!-- fragment --><p>We call <code>cube-&gt;redraw()</code> after changing the value to update the <a class="el" href="classCubeView.html">CubeView</a> window. <a class="el" href="classCubeView.html">CubeView</a> could easily be modified to do this, but it is nice to keep this exposed. In the case where you may want to do more than one view change only redrawing once saves a lot of time.</p>
<p>There is no reason to wait until after you have added <a class="el" href="classCubeView.html">CubeView</a> to enter these callbacks. FLUID assumes you are smart enough not to refer to members or functions that don't exist.</p>
<dl class="section user"><dt>Adding a Class Method</dt><dd></dd></dl>
<p>You can add class methods within FLUID that have nothing to do with the GUI. As an example add a show function so that CubeViewUI can actually appear on the screen.</p>
<p>Make sure the top level CubeViewUI is selected and select <b>New-&gt;Code-&gt;Function/Method</b>. Just use the name <code>show()</code>. We don't need a return value here, and since we will not be adding any widgets to this method FLUID will assign it a return type of <code>void</code>.</p>
<div class="image">
<img src="fluid4.png" alt=""/>
<div class="caption">
CubeView constructor</div></div>
 <p>Once the new method has been added, highlight its name and select <b>New-&gt;Code-&gt;Code.</b> Enter the method's code in the code window.</p>
<h2><a class="anchor" id="fluid_addconst"></a>
Adding Constructor Initialization Code</h2>
<p>If you need to add code to initialize a class, for example setting initial values of the horizontal and vertical angles in the <a class="el" href="classCubeView.html">CubeView</a>, you can simply highlight the constructor and select <b>New-&gt;Code-&gt;Code</b>. Add any required code.</p>
<h2><a class="anchor" id="fluid_gencode"></a>
Generating the Code</h2>
<p>Now that we have completely defined the CubeViewUI, we have to generate the code. There is one last trick to ensure this all works. Open the preferences dialog from <b>Edit-&gt;Preferences</b>.</p>
<p>At the bottom of the preferences dialog box is the key: <b>"Include Header from Code"</b>. Select that option and set your desired file extensions and you are in business. You can include the CubeViewUI.h (or whatever extension you prefer) as you would any other C++ class. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
